(()=>{"use strict";(()=>{const t=document.querySelector(".modal-callback"),e=document.querySelectorAll(".callback-btn"),s=document.querySelector(".modal-overlay"),i=document.querySelectorAll(".absolute"),o=document.querySelectorAll(".img-wrapper"),n=()=>{s.style.display="block",t.style.display="block"};document.addEventListener("click",(l=>{let r=l.target,a=r.closest(".element");e.forEach((t=>{r===t&&n()})),i.forEach((t=>{r===t&&n()})),a&&o.forEach((t=>{t===r&&n()})),r.closest(".button-services")&&n(),(r.closest(".modal-close")||r.closest(".modal-overlay"))&&(s.style.display="none",t.style.display="none")}))})(),(()=>{const t=document.querySelector(".top-menu"),e=document.querySelector(".up");e.style.visibility="hidden",document.addEventListener("scroll",(()=>{let t=window.scrollY;e.style.visibility=t>600?"visible":"hidden"})),document.addEventListener("click",(s=>{let i=s.target;var o;e===i&&(o=t,window.scroll({left:0,top:o.offsetTop,behavior:"smooth"}))}))})(),(()=>{const t=document.querySelectorAll(".item"),e=document.querySelectorAll(".table");let s,i=0;e.forEach((t=>{t.style="\n            opacity: 0.8;\n            color: #E3E3C4;\n            visibility: visible;"}));const o=()=>{t[i].style.display="none",i++,i>=t.length&&(i=0),t[i].style.display="block"};((t=3e3)=>{s=setInterval(o,t)})()})(),new class{constructor({main:t,wrap:e,next:s,prev:i,infinity:o=!1,position:n=0,slidesToShow:l=3,responsive:r=[]}){t&&e||console.warn('slider-carousel: Необходимо 2 свойства, "main" и "wrap"!'),this.main=document.querySelector(t),this.wrap=document.querySelector(e),this.slides=document.querySelector(e).children,this.next=document.querySelector(s),this.prev=document.querySelector(i),this.slidesToShow=l,this.options={position:n,infinity:o,widthSlide:Math.floor(100/this.slidesToShow)},this.responsive=r}init(){this.addGloClass(),this.addStyle(),this.prev&&this.next,this.controlSlider(),this.responsive&&this.responsiveInit()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const t of this.slides)t.classList.add("glo-slider__item")}addStyle(){let t=document.getElementById("sliderCarousel-style");t||(t=document.createElement("style"),t.id="sliderCarousel-style"),t.textContent=`\n\t\t\t\t.glo-slider{\n\t\t\t\t\toverflow: hidden !important;\n\t\t\t\t}\n\t\t\t\t.glo-slider__wrap{\n\t\t\t\t\tdisplay: flex !important;\n\t\t\t\t\ttransition: transform 0.5s !important;\n\t\t\t\t\twill-change: transform !important;\n\t\t\t\t}\n\t\t\t\t.glo-slider__item{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tflex: 0 0 ${this.options.widthSlide}% !important;\n\t\t\t\t\tmargin: auto 0 !important;\n\t\t\t\t}\n\t\t\t`,document.head.appendChild(t)}controlSlider(){this.next.addEventListener("click",this.nextSlider.bind(this)),this.prev.addEventListener("click",this.prevSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}responsiveInit(){const t=this.slidesToShow,e=this.responsive.map((t=>t.breakpoint)),s=Math.max(...e),i=()=>{const i=document.documentElement.clientWidth;if(i<s)for(let t=0;t<e.length;t++)i<e[t]&&(this.slidesToShow=this.responsive[t].slideToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=t,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};i(),window.addEventListener("resize",i)}}({main:".services-elements",wrap:".services-carousel",next:".arrow-right",prev:".arrow-left",slidesToShow:3,infinity:!0,responsive:[{breakpoint:1024,slideToShow:3},{breakpoint:768,slideToShow:2},{breakpoint:576,slideToShow:1}]}).init(),(()=>{const t=document.querySelector(".accordeon"),e=t.querySelectorAll(".element"),s=t.querySelectorAll(".element-content");e.forEach((t=>{t.classList.remove("active")})),s.forEach((t=>{t.style.display="none"})),t.addEventListener("click",(t=>{let i=t.target;i=i.closest(".element"),i&&e.forEach(((t,o)=>{t===i&&(t=>{for(let i=0;i<s.length;i++)t===i?(e[i].classList.add("active"),s[i].style.display="block"):(e[i].classList.remove("active"),s[i].style.display="none")})(o)}))}))})(),(()=>{const t=document.querySelector(".modal-callback"),e=t.querySelectorAll("input"),s=document.createElement("style"),i=document.createElement("div");i.style.cssText="font-size: 2rem; color: #000; text-align: center; font-family: Helios;\n    font-weight: bold;\n}",s.textContent="\n    input.success {\n        border: 2px solid green\n    }\n    input.error {\n        border: 2px solid red\n    }\n    .validator-error {\n        font-size: 12px;\n        font-family: sans-serif;\n        color: red;\n        margin-top: -15px;\n}",document.head.appendChild(s),e.forEach((t=>t.addEventListener("input",(()=>{(t=>{const e=t=>{if(t.classList.remove("success"),t.classList.add("error"),t.nextElementSibling&&t.nextElementSibling.classList.contains("validator-error"))return;const e=document.createElement("div");e.textContent="Ошибка в этом поле",e.classList.add("validator-error"),t.insertAdjacentElement("afterEnd",e)},s=t=>{t.classList.remove("error"),t.classList.add("success"),t.nextElementSibling&&t.nextElementSibling.classList.contains("validator-error")&&t.nextElementSibling.remove("validator-error")};"tel"===t.getAttribute("name")?t.value&&/([0-9\+\(\)\- ]){18}/.test(t.value)?s(t):e(t):"fio"===t.getAttribute("name")&&(t.value=t.value.replace(/[^А-Яа-я ]/g,""),t.value&&/([а-яА-Я]){2}/.test(t.value)?s(t):e(t))})(t)})))),window.addEventListener("DOMContentLoaded",(()=>{function t(t){let e="+7 (___) ___-__-__",s=0,i=e.replace(/\D/g,""),o=this.value.replace(/\D/g,"");i.length>=o.length&&(o=i),this.value=e.replace(/./g,(function(t){return/[_\d]/.test(t)&&s<o.length?o.charAt(s++):s>=o.length?"":t})),"blur"===t.type?2===this.value.length&&(this.value=""):((t,e)=>{if(e.focus(),e.setSelectionRange)e.setSelectionRange(t,t);else if(e.createTextRange){const s=e.createTextRange();s.collapse(!0),s.moveEnd("character",t),s.moveStart("character",t),s.select()}})(this.value.length,this)}const e=document.querySelector(".tel");e.addEventListener("input",t),e.addEventListener("focus",t),e.addEventListener("blur",t)})),t.addEventListener("submit",(t=>{let s=t.target;if(s.matches("form")&&!document.querySelector(".validator-error")){t.preventDefault(),s.appendChild(i),i.textContent="Идёт отправка";const n=new FormData(s);let l={};n.forEach(((t,e)=>l[e]=t)),o(l).then((t=>{if(200!==t.status)throw new Error("status network not 200");i.textContent="Отправлено!",setTimeout((()=>{i.textContent="",document.querySelector(".modal-overlay").style.display="none",document.querySelector(".modal-callback").style.display="none"}),3e3),e.forEach((t=>{t.getAttribute("name")&&(t.value="",t.classList.remove("success"))}))})).catch((t=>{i.textContent="Ошибка",console.error(t)}))}else t.preventDefault()}));const o=t=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})})()})();